#include <stdio.h>
#include <libyang/libyang.h>

int main() {
  // yang file path
  const char *yang_model = "/poc/sample.yang";

    // 创建libyang上下文
    struct ly_ctx *ctx = ly_ctx_new(NULL, 0);
  if (!ctx) {
  printf("Failed to create libyang context\n");
    return -1;
    }

    // parse YANG model
  struct lys_module *module = lys_parse_path(ctx, yang_model, LYS_IN_YANG);
    if (!module) {
    printf("Failed to parse YANG module\n");
    ly_ctx_destroy(ctx, NULL);
      return -1;
    }

      // free resources
    lys_module_free(module);
    ly_ctx_destroy(ctx, NULL);

    return 0;
      }